<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="../../assets/styles/article.css" rel="stylesheet" type="text/css" /> 
    <title>CS 220: Unix Command Line Introduction</title>
    <link href="unix-cli/hl-fine_blue.css" rel="stylesheet"/>
  </head>
  <body>
    <nav>
      <ul>
	<li><a href="../../index.html" class="material-icons">house</a></li>
	<li><a href="../../docs/index.html">Docs</a></li>
	<li><a href="../../exercises/index.html">Exercises</a></li>
	<li><a href="../../hw/index.html">Homework</a></li>
	<li><a href="../../labs/index.html">Labs</a></li>
	<li><a href="../../misc/index.html">Misc</a></li>
	<li><a href="../../projects/index.html">Projects</a></li>
	<li><a href="../../slides/index.html">Slides</a></li>
	<li><a id="loginAction"></a></li>
      </ul>
    </nav>
    <div class="content">
      <section data-coord="unix-cli.umt:1:0"><h1 data-coord="unix-cli.umt:1:0">Unix Command Line Introduction</h1><p data-coord="unix-cli.umt:3:0"><strong data-coord="unix-cli.umt:3:0">Date</strong>: Sep 23, 2021
</p><p data-coord="unix-cli.umt:5:0">This document first describes the aims of this lab.  It then provides
necessary background.  It then describes the exercises which need to be
performed.
</p><p data-coord="unix-cli.umt:9:0">In the listings which follow, comments are any text extending from 
a <samp data-coord="unix-cli.umt:9:70">#</samp> character to end-of-line.
</p><section data-coord="unix-cli.umt:12:0"><h2 data-coord="unix-cli.umt:12:0">Aims</h2><p data-coord="unix-cli.umt:15:0">The aim of this lab is to introduce you to the Unix command-line.  After
completing this lab, you should be familiar with the following topics:
</p><ul data-coord="unix-cli.umt:18:0"><li data-coord="unix-cli.umt:18:0"><p data-coord="unix-cli.umt:18:4">Simple Unix commands like <samp data-coord="unix-cli.umt:18:30">ls</samp>, <samp data-coord="unix-cli.umt:18:36">cat</samp>, and <samp data-coord="unix-cli.umt:18:47">wc</samp>.
</p></li><li data-coord="unix-cli.umt:20:0"><p data-coord="unix-cli.umt:20:4">The typical syntax of Unix commands.
</p></li><li data-coord="unix-cli.umt:22:0"><p data-coord="unix-cli.umt:22:4">The use of wildcards on the command-line.
</p></li><li data-coord="unix-cli.umt:24:0"><p data-coord="unix-cli.umt:24:4">The standard I/O streams.
</p></li><li data-coord="unix-cli.umt:26:0"><p data-coord="unix-cli.umt:26:4">How to redirect the standard I/O streams to files and commands.
</p></li><li data-coord="unix-cli.umt:28:0"><p data-coord="unix-cli.umt:28:4">How to get help on a Unix system.
</p></li></ul></section><section data-coord="unix-cli.umt:31:0"><h2 data-coord="unix-cli.umt:31:0">Background</h2><p data-coord="unix-cli.umt:34:0">The Unix shell is a command-line program which allows users to interact with
a Unix system.  Even though we colloquially use the term <em data-coord="unix-cli.umt:34:134">the Unix shell</em>,
there are many Unix shells with names like <samp data-coord="unix-cli.umt:34:195">sh</samp>, <samp data-coord="unix-cli.umt:34:201">csh</samp>, <samp data-coord="unix-cli.umt:34:208">bash</samp>, <samp data-coord="unix-cli.umt:34:216">tcsh</samp>, etc.
The first popular shell was <samp data-coord="unix-cli.umt:34:257">sh</samp> written by Stephen Bourne.
</p><p data-coord="unix-cli.umt:39:0">All information within a Unix system is stored within <em data-coord="unix-cli.umt:39:54">files</em>.  As far as
Unix is concerned a <em data-coord="unix-cli.umt:39:94">file</em> is nothing but an unstructured sequence of bytes.
Unlike other OS's, Unix itself does not require that the files have any kind
of record structure.  The structure of a file is dictated only by the
application programs which manipulate the file.
</p><p data-coord="unix-cli.umt:45:0">The collection of files on a unix system is organized in a hierarchy of
<em data-coord="unix-cli.umt:45:72">folders</em> or <em data-coord="unix-cli.umt:45:85">directories</em>; i.e., a directory consists of a collection of
files and other directories.  The root directory of the entire hierarchy is
denoted as <samp data-coord="unix-cli.umt:45:233">/</samp>.  Any Unix process always has a current directory denoted as
<samp data-coord="unix-cli.umt:45:298">.</samp> (the character period), and can refer to the parent of the current
directory using <samp data-coord="unix-cli.umt:45:385">..</samp> (two period characters).
</p><p data-coord="unix-cli.umt:52:0">A file or directory <strong data-coord="unix-cli.umt:52:20">name</strong> can consist of a sequence of any characters
other than <samp data-coord="unix-cli.umt:52:82">/</samp> or the ASCII <samp data-coord="unix-cli.umt:52:99">NUL</samp> character (<samp data-coord="unix-cli.umt:52:120">'\0'</samp> in C syntax).  A
<strong data-coord="unix-cli.umt:52:144">pathname</strong> is a sequence of directory names, optionally followed by a
filename separated by <samp data-coord="unix-cli.umt:52:236">/</samp> characters. If the pathname begins with a
<samp data-coord="unix-cli.umt:52:282">/</samp>, then it is an absolute pathname, otherwise it is a relative
pathname interpreted relative to the <em data-coord="unix-cli.umt:52:384">current directory</em>.
</p><p data-coord="unix-cli.umt:59:0">Example names:
</p><pre data-coord="unix-cli.umt:62:0">  /bin/ls               #an absolute path name
  bin/hello             #a relative path name
  ./hello               #the file hello in the current directory
  ../hello              #the file hello in the parent of the current directory
</pre><p data-coord="unix-cli.umt:68:0">A shell <strong data-coord="unix-cli.umt:68:8">command</strong> consists of a <em data-coord="unix-cli.umt:68:32">command-name</em> followed by <em data-coord="unix-cli.umt:68:59">options</em>
and <em data-coord="unix-cli.umt:68:73">arguments</em> separated by blanks.  The arguments specify the
information needed by the command whereas the options control how the
command works.  Usually, options begin with a <samp data-coord="unix-cli.umt:68:249">-</samp> or <samp data-coord="unix-cli.umt:68:256">--</samp>, but since
each command defines the exact syntax of options and arguments there
can be subtle differences in the syntax of options between different
commands.
</p><p data-coord="unix-cli.umt:76:0">Example commands:
</p><pre>$ <span class="hl kwc">ls</span> <span class="hl kwb">-l</span>                 <span class="hl slc">#list the contents of a directory </span>
                        <span class="hl slc">#in a long format (option -l).</span>
$ <span class="hl kwc">ls</span> dir                <span class="hl slc">#list contents of directory</span>
                        <span class="hl slc">#dir (an argument).</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">-l</span> dir             <span class="hl slc">#list contents of dir (argument)</span>
                        <span class="hl slc">#in long format (option -l).</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">-d -l</span> dir          <span class="hl slc">#list information about dir (not contents)</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">--directory -l</span> dir <span class="hl slc">#long option</span>
                        <span class="hl slc">#--directory equivalent to -d above</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">-dl</span> dir            <span class="hl slc">#like -d -l;</span>
                        <span class="hl slc">#many commands allow short options to be combined</span></pre><p data-coord="unix-cli.umt:93:0">To get help for a command, use the <samp data-coord="unix-cli.umt:93:35">man</samp> command.  Example, <samp data-coord="unix-cli.umt:93:60">man ls</samp>.
</p></section><section data-coord="unix-cli.umt:97:0"><h2 data-coord="unix-cli.umt:97:0">Exercises</h2><section data-coord="unix-cli.umt:100:0"><h3 data-coord="unix-cli.umt:100:0">Starting up</h3><p data-coord="unix-cli.umt:103:0">Follow the <em data-coord="unix-cli.umt:103:38"><a href="../working/working.html" data-coord="unix-cli.umt:103:38">provided directions</a></em> for
starting up this lab in a new git <samp data-coord="unix-cli.umt:103:98">lab3</samp> branch and a new
<samp data-coord="unix-cli.umt:103:122">submit/lab3</samp> directory.  You should have copied over
the contents of <samp data-coord="unix-cli.umt:103:192">~/cs220/labs/lab3/exercises</samp> over to your
directory.
</p><p data-coord="unix-cli.umt:109:0">Run through the following exercises in the <samp data-coord="unix-cli.umt:109:43">exercises</samp> directory
(note that the provided directory only contains a single sub-directory
for the last exercise).
</p></section><section data-coord="unix-cli.umt:113:0"><h3 data-coord="unix-cli.umt:113:0">Exercise 1: Some Basic Commands</h3><p data-coord="unix-cli.umt:116:0">Create some empty files using the <samp data-coord="unix-cli.umt:116:34">touch</samp> command.  On an existing file, the
<samp data-coord="unix-cli.umt:116:77">touch</samp> command modifies its last-modified timestamp; however, if the file
does not exist, then the <samp data-coord="unix-cli.umt:116:177">touch</samp> command will create it.
</p><p data-coord="unix-cli.umt:120:0">Type the following commands:
</p><pre>$ mkdir dir  <span class="hl slc">#create another directory</span>
$ <span class="hl kwc">touch</span> t1.c T1.s v.c v1.s x.c dir<span class="hl opt">/</span>t2.c dir<span class="hl opt">/</span>T2.s1 dir<span class="hl opt">/</span>t3
$ <span class="hl kwc">ls</span>         <span class="hl slc">#see contents within current directory sorted by name</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">-l</span>      <span class="hl slc">#long contents of current directory: the columns will</span>
             <span class="hl slc">#show permissions (r = read allowed; w = write allowed;</span>
             <span class="hl slc">#x = execute allowed, 3 groups for owner, group and other; </span>
             <span class="hl slc">#initial d for directories), owner name, group name, size in</span>
             <span class="hl slc">#bytes, last modification time, name.</span>
$ <span class="hl kwc">ls</span> <span class="hl kwb">-tl</span>     <span class="hl slc">#sort by last modification time instead of by name</span></pre><p data-coord="unix-cli.umt:136:0">Now type in commands to list:
</p><ol data-coord="unix-cli.umt:138:0"><li data-coord="unix-cli.umt:138:0"><p data-coord="unix-cli.umt:138:4">The contents of <samp data-coord="unix-cli.umt:138:20">dir</samp> (only the names), sorted by name.
</p></li><li data-coord="unix-cli.umt:140:0"><p data-coord="unix-cli.umt:140:4">The long contents of <samp data-coord="unix-cli.umt:140:25">dir</samp>, sorted by name.
</p></li><li data-coord="unix-cli.umt:142:0"><p data-coord="unix-cli.umt:142:4">The long contents of <samp data-coord="unix-cli.umt:142:25">dir</samp>, sorted by last modification time.
</p></li><li data-coord="unix-cli.umt:144:0"><p data-coord="unix-cli.umt:144:4">The contents of <samp data-coord="unix-cli.umt:144:20">dir</samp> (only the names), sorted by last modification
 time.
</p></li></ol><p data-coord="unix-cli.umt:147:0">To familiarize yourself with how Unix <samp data-coord="unix-cli.umt:147:38">man</samp> pages are setup, do a <samp data-coord="unix-cli.umt:147:66">man
touch</samp>, followed by <samp data-coord="unix-cli.umt:147:91">man ls</samp> in an auxiliary terminal window.  If your
terminal is setup correctly you should be able to use the <samp data-coord="unix-cli.umt:147:200">PgUp</samp> and <samp data-coord="unix-cli.umt:147:211">PgDn</samp>
keys on your keyboard to move back and forth within the man page.
Minimally, the spacebar should page forward.  Alternately, you can
do a web search, though there is a chance that any resulting
manual pages may not match the system you are currently using.
</p></section><section data-coord="unix-cli.umt:156:0"><h3 data-coord="unix-cli.umt:156:0">Exercise 2: Wildcards</h3><p data-coord="unix-cli.umt:159:0">The following characters are interpreted specially by the shell to allow 
specification of file-"globbing" patterns:
</p><dl data-coord="unix-cli.umt:162:0"><dt data-coord="unix-cli.umt:162:2"> <samp data-coord="unix-cli.umt:162:1">*</samp></dt><dd data-coord="unix-cli.umt:163:0"><p data-coord="unix-cli.umt:163:5">matches any sequence of file-name characters (including the empty
sequence).
</p></dd><dt data-coord="unix-cli.umt:166:2"> <samp data-coord="unix-cli.umt:166:1">?</samp></dt><dd data-coord="unix-cli.umt:167:0"><p data-coord="unix-cli.umt:167:5">matches any single character.
</p></dd><dt data-coord="unix-cli.umt:169:2"> <samp data-coord="unix-cli.umt:169:1">[</samp><em data-coord="unix-cli.umt:169:4">XY ... Z</em><samp data-coord="unix-cli.umt:169:14">]</samp></dt><dd data-coord="unix-cli.umt:170:0"><p data-coord="unix-cli.umt:170:5">matches any one of the characters <em data-coord="unix-cli.umt:170:39">XY ... Z</em>.  For example, <samp data-coord="unix-cli.umt:170:65">[aeiou]</samp>
matches a vowel character.
</p></dd><dt data-coord="unix-cli.umt:174:2"> <samp data-coord="unix-cli.umt:174:1">[</samp><em data-coord="unix-cli.umt:174:4">X</em><samp data-coord="unix-cli.umt:174:7">-</samp><em data-coord="unix-cli.umt:174:10">Y</em><samp data-coord="unix-cli.umt:174:13">]</samp></dt><dd data-coord="unix-cli.umt:175:0"><p data-coord="unix-cli.umt:175:5">match character <em data-coord="unix-cli.umt:175:21">X</em> through <em data-coord="unix-cli.umt:175:33">Y</em>. For example, <samp data-coord="unix-cli.umt:175:51">[0-9]</samp> matches a digit.
</p></dd></dl><p data-coord="unix-cli.umt:177:0">The special interpretation occurs only when there are files which match the
pattern.  To prevent the special interpretation, quote the special character
by preceeding with a backspace or by enclosing within single <samp data-coord="unix-cli.umt:177:214">'</samp> or double <samp data-coord="unix-cli.umt:177:228">"</samp>
quotes.
</p><p data-coord="unix-cli.umt:182:0">Type the following commands:
</p><pre>$ <span class="hl kwc">ls</span> T<span class="hl opt">*</span>         <span class="hl slc">#should only list T1.s</span>
$ <span class="hl kwc">ls</span> dir<span class="hl opt">/*</span>.?    <span class="hl slc">#should not list dir/T2.s1 or dir/t3</span>
$ <span class="hl kwc">ls</span> <span class="hl opt">[</span>t-v<span class="hl opt">]*</span>.c   <span class="hl slc">#should only list t1.c, v.c</span></pre><p data-coord="unix-cli.umt:191:0">Now type in the commands to list:
</p><ol data-coord="unix-cli.umt:193:0"><li data-coord="unix-cli.umt:193:0"><p data-coord="unix-cli.umt:193:4">All the names in directory <samp data-coord="unix-cli.umt:193:31">/bin</samp> whose second character is <samp data-coord="unix-cli.umt:193:64">p</samp> through
 <samp data-coord="unix-cli.umt:193:81">s</samp>.  
</p></li><li data-coord="unix-cli.umt:196:0"><p data-coord="unix-cli.umt:196:4">All the names in <samp data-coord="unix-cli.umt:196:21">/etc</samp> which end in the two characters <samp data-coord="unix-cli.umt:196:60">rc</samp>.
</p></li><li data-coord="unix-cli.umt:198:0"><p data-coord="unix-cli.umt:198:4">All the names in <samp data-coord="unix-cli.umt:198:21">/bin</samp> which contain exactly 3 letters.
</p></li></ol></section><section data-coord="unix-cli.umt:201:0"><h3 data-coord="unix-cli.umt:201:0">Exercise 3: Standard Streams and I/O Redirection</h3><p data-coord="unix-cli.umt:204:0">Every process on a Unix system has access to 3 standard input-output
(I/O) streams:
</p><dl data-coord="unix-cli.umt:207:0"><dt data-coord="unix-cli.umt:207:2"> <strong data-coord="unix-cli.umt:207:1">Standard input</strong></dt><dd data-coord="unix-cli.umt:208:0"><p data-coord="unix-cli.umt:208:4">The process can read its textual input data from this stream.  
</p></dd><dt data-coord="unix-cli.umt:210:2"> <strong data-coord="unix-cli.umt:210:1">Standard output</strong></dt><dd data-coord="unix-cli.umt:211:0"><p data-coord="unix-cli.umt:211:4">The process can write its normal textual output to this stream.
</p></dd><dt data-coord="unix-cli.umt:213:2"> <strong data-coord="unix-cli.umt:213:1">Standard error</strong></dt><dd data-coord="unix-cli.umt:214:0"><p data-coord="unix-cli.umt:214:4">The process can write its error messages to this stream.
</p></dd></dl><p data-coord="unix-cli.umt:216:0">By default, all 3 streams refer to the terminal.  However, it is possible to
redirect the streams to files or commands.
</p><p data-coord="unix-cli.umt:219:0">If a command is followed by a <samp data-coord="unix-cli.umt:219:30">&gt;</samp> character followed by a filename, then the
standard output of the command is <strong data-coord="unix-cli.umt:219:111">redirected</strong> to the file.
</p><p data-coord="unix-cli.umt:222:0">Try <samp data-coord="unix-cli.umt:222:4">ls &gt; ls.log</samp>.  No output should be produced on the terminal; instead
the output should have been redirected to <samp data-coord="unix-cli.umt:222:116">ls.log</samp>.  Do <samp data-coord="unix-cli.umt:222:130">cat ls.log</samp> to see
its contents (the <samp data-coord="unix-cli.umt:222:168">cat</samp> command con*cat*enates the files specified by its
command-line arguments onto standard output; if there are no files
specified, then it merely copies standard input to standard output).
</p><p data-coord="unix-cli.umt:228:0">Try <samp data-coord="unix-cli.umt:228:4">cat &gt;cat.log</samp>.  There should be no output.  Type a couple of lines of
garbage text on the terminal and terminate with a <samp data-coord="unix-cli.umt:228:125">control-D</samp> character.
Then type <samp data-coord="unix-cli.umt:228:158">cat cat.log</samp> and you should see your garbage text displayed on
the terminal (note this is a handy trick when you happen to get onto a
barely working computer which does not have a functioning text editor).
</p><p data-coord="unix-cli.umt:234:0">If a command is followed by <samp data-coord="unix-cli.umt:234:28">&gt;&gt;</samp> characters followed by a filename, then the
standard output of the command will be <strong data-coord="unix-cli.umt:234:116">appended</strong> to the filename.
</p><p data-coord="unix-cli.umt:237:0">Try <samp data-coord="unix-cli.umt:237:4">ls dir &gt;&gt;ls.log</samp>, followed by <samp data-coord="unix-cli.umt:237:35">cat ls.log</samp>.  You should see the output
of both redirections.
</p><p data-coord="unix-cli.umt:240:0">If a command is followed by the <samp data-coord="unix-cli.umt:240:32">&lt;</samp> character followed by a filename, then
the standard input of the command is redirected from filename.  
</p><p data-coord="unix-cli.umt:243:0">Try <samp data-coord="unix-cli.umt:243:4">cat &lt;ls.log</samp>; i.e., the <samp data-coord="unix-cli.umt:243:29">cat</samp> command is run without any arguments,
hence it will copy its standard input to standard output.  Since the
standard input is being redirected from <samp data-coord="unix-cli.umt:243:182">ls.log</samp>, this command should do
exactly the same as <samp data-coord="unix-cli.umt:243:235">cat ls.log</samp> without the input redirection.
</p><p data-coord="unix-cli.umt:248:0">Finally, if two command are separated by the <samp data-coord="unix-cli.umt:248:45">|</samp> character, then the standard
output of the first command is fed into the standard input of the second
command.  The combined command is known as a <em data-coord="unix-cli.umt:248:196">pipeline</em>.
</p><p data-coord="unix-cli.umt:252:0">For example, <samp data-coord="unix-cli.umt:252:13">wc -l</samp> will print out the number of lines on its
standard input (do <samp data-coord="unix-cli.umt:252:82">man wc</samp> in an auxiliary terminal for other
options). So try <samp data-coord="unix-cli.umt:252:143">ls | wc -l</samp> to get a count of the number of files in
the current directory.
</p><p data-coord="unix-cli.umt:257:0">Now type in the commands to achieve the following:
</p><ol data-coord="unix-cli.umt:259:0"><li data-coord="unix-cli.umt:259:0"><p data-coord="unix-cli.umt:259:4">Produce on the terminal a count of the number of filenames in the
<samp data-coord="unix-cli.umt:259:74">/bin</samp> directory which are exactly 4 letters in length.
</p></li><li data-coord="unix-cli.umt:262:0"><p data-coord="unix-cli.umt:262:4">Create a file <samp data-coord="unix-cli.umt:262:18">bin-c.log</samp> containing all the filenames in the <samp data-coord="unix-cli.umt:262:66">/bin</samp>
directory which start with the character <samp data-coord="unix-cli.umt:262:118">c</samp>.
</p></li><li data-coord="unix-cli.umt:265:0"><p data-coord="unix-cli.umt:265:4">Print out the number of lines in the file <samp data-coord="unix-cli.umt:265:46">bin-c.log</samp> created by
the previous command.
</p></li><li data-coord="unix-cli.umt:268:0"><p data-coord="unix-cli.umt:268:4">Print out a approximate count of the total number of files and
directories whose pathnames start with <samp data-coord="unix-cli.umt:268:110">/etc</samp> (note that the <samp data-coord="unix-cli.umt:268:132">-R</samp>
option to <samp data-coord="unix-cli.umt:268:151">ls</samp> produces a recursive directory listing where <samp data-coord="unix-cli.umt:268:201">ls</samp>
will list out the contents of the directories specified on the
command-line as well as all their direct or indirect
subdirectories).
</p><p data-coord="unix-cli.umt:275:4">You may get permission errors while performing this step, you may
ignore those errors.
</p></li><li data-coord="unix-cli.umt:278:0"><p data-coord="unix-cli.umt:278:4">Do a <samp data-coord="unix-cli.umt:278:9">man tr</samp> in an auxiliary terminal to understand how to
translate all lowercase characters to uppercase.  Then list out
all the names in the current directory with all names in
uppercase.
</p></li></ol></section><section data-coord="unix-cli.umt:283:0"><h3 data-coord="unix-cli.umt:283:0">Exercise 4: Standard Streams in C</h3><p data-coord="unix-cli.umt:286:0">Change over to the <a href="exercises/c-stdin-stdout" data-coord="unix-cli.umt:286:47">c-stdin-stdout</a>
directory.  It contains a trivial <a href="exercises/c-stdin-stdout/Makefile" data-coord="unix-cli.umt:286:133">Makefile</a> and a simple C program <a href="exercises/c-stdin-stdout/sum-ints.c" data-coord="unix-cli.umt:286:204">sum-ints.c</a> which sums pairs of integers read from either a file or
standard input.  It also contains a trivial
<a href="exercises/c-stdin-stdout/test1.in" data-coord="unix-cli.umt:286:352">test1.in</a> test data file.
</p><p data-coord="unix-cli.umt:293:0">Study the code provided in <a href="exercises/c-stdin-stdout/sum-ints.c" data-coord="unix-cli.umt:293:66">sum-ints.c.</a>  Use the Unix man pages to understand the library
functions which are used.  In particular, be sure to look at the man
pages for <a href="https://man7.org/linux/man-pages/man3/fopen.3.html" data-coord="unix-cli.umt:293:261">fopen(3),</a> <a href="https://man7.org/linux/man-pages/man3/strcmp.3.html" data-coord="unix-cli.umt:293:326">strcmp(3)</a> and the return value for
<a href="https://man7.org/linux/man-pages/man3/fscanf.3p.html" data-coord="unix-cli.umt:293:417">fscanf().</a>
</p><p data-coord="unix-cli.umt:301:0">Build the program using <samp data-coord="unix-cli.umt:301:24">make</samp>.
</p><p data-coord="unix-cli.umt:303:0">Note that the program requires the first argument to be a file
containing pairs of integers to be added.  However, if the first
argument is specified as <samp data-coord="unix-cli.umt:303:153">"-"</samp> then it will read the input integers
from stdin.
</p><p data-coord="unix-cli.umt:308:0">Run the program:
</p><pre><span class="hl slc"># show a usage message</span>
$ .<span class="hl opt">/</span>sum-ints 
usage<span class="hl opt">:</span> .<span class="hl opt">/</span>sum-ints IN_FILE <span class="hl opt">[</span>OUT_FILE<span class="hl opt">]</span>

<span class="hl slc"># show contents of test data</span>
$ <span class="hl kwc">cat</span> test1.<span class="hl kwa">in</span> 
<span class="hl num">3 5</span>
<span class="hl num">3</span> <span class="hl kwb">-3</span>

<span class="hl slc"># sum pairs of ints from test1.in</span>
$ .<span class="hl opt">/</span>sum-ints test1.<span class="hl kwa">in</span> 
<span class="hl num">8</span>
<span class="hl num">0</span>

<span class="hl slc"># sum pairs of ints from test1.in, write results to test1.out</span>
$ .<span class="hl opt">/</span>sum-ints test1.<span class="hl kwa">in</span> test1.out

<span class="hl slc"># look at result file</span>
$ <span class="hl kwc">cat</span> test1.out 
<span class="hl num">8</span>
<span class="hl num">0</span>

<span class="hl slc"># specify input file as - to read from stdin</span>
$ .<span class="hl opt">/</span>sum-ints <span class="hl opt">-</span>
<span class="hl num">7 4</span>
<span class="hl num">11</span>
<span class="hl num">8 2</span>
<span class="hl num">10</span>
<span class="hl kwb">-3</span> <span class="hl num">5</span>
<span class="hl num">2</span>
<span class="hl slc"># type ^D to indicate EOF</span>

<span class="hl slc"># read from stdin but write to test2.out file</span>
$ .<span class="hl opt">/</span>sum-ints <span class="hl opt">-</span> test2.out
<span class="hl num">3 6</span>
<span class="hl num">9 7</span>
<span class="hl slc"># type ^D to indicate EOF</span>

<span class="hl slc"># check results</span>
$ <span class="hl kwc">cat</span> test2.out
<span class="hl num">9</span>
<span class="hl num">16</span>
$</pre><p data-coord="unix-cli.umt:357:0">To test your understanding, do the following:
</p><ol data-coord="unix-cli.umt:359:0"><li data-coord="unix-cli.umt:359:0"><p data-coord="unix-cli.umt:359:4">Use the <samp data-coord="unix-cli.umt:359:12">./sum-ints -</samp> command in such a way so as to force the
command to read the input integers from <samp data-coord="unix-cli.umt:359:112">test1.in</samp> even though the
first argument is specified as <samp data-coord="unix-cli.umt:359:174">-</samp>.
</p></li><li data-coord="unix-cli.umt:363:0"><p data-coord="unix-cli.umt:363:4">Modify <samp data-coord="unix-cli.umt:363:11">sum-ints.c</samp> so that if <samp data-coord="unix-cli.umt:363:35">-</samp> is specified for the second
argument then the resuts are written <samp data-coord="unix-cli.umt:363:108">stdout</samp>.  Make sure to
modify the initial comment in the file as well as the usage
message.  Also ensure that your tests for this change are recorded
into your <samp data-coord="unix-cli.umt:363:281">lab3.LOG</samp> file and to also submit the modified
<samp data-coord="unix-cli.umt:363:333">sum-ints.c</samp> file.
</p></li><li data-coord="unix-cli.umt:370:0"><p data-coord="unix-cli.umt:370:4">Run your modified program using <samp data-coord="unix-cli.umt:370:36">./sum-ints - -</samp> but set up the
command in such a way that all input is read from <samp data-coord="unix-cli.umt:370:122">test1.in</samp> and
all output is written to <samp data-coord="unix-cli.umt:370:166">test1.out</samp>.
</p></li></ol></section></section><section data-coord="unix-cli.umt:374:0"><h2 data-coord="unix-cli.umt:374:0">Winding Up</h2><p data-coord="unix-cli.umt:377:0">Wind up your lab by using the <em data-coord="unix-cli.umt:377:57"><a href="../working/working.html" data-coord="unix-cli.umt:377:57">provided
directions</a></em> to terminate your log in a <samp data-coord="unix-cli.umt:377:106">lab3.LOG</samp> file and merging
your <samp data-coord="unix-cli.umt:377:139">lab3</samp> branch into the <samp data-coord="unix-cli.umt:377:162">master</samp> branch.  Once you have the lab on
your <samp data-coord="unix-cli.umt:377:210">master</samp> branch, commit and push your changes to github.  Be sure
to include your <samp data-coord="unix-cli.umt:377:292">lab3.LOG</samp> file as well as the content of your
<samp data-coord="unix-cli.umt:377:339">exercises</samp> directory.
</p></section><section data-coord="unix-cli.umt:385:0"><h2 data-coord="unix-cli.umt:385:0">References</h2><p data-coord="unix-cli.umt:388:0">Brian W. Kernighan, Rob Pike, <em data-coord="unix-cli.umt:388:30">The Unix Programming Environment</em>,
Prentice-Hall, 1984.
</p><p data-coord="unix-cli.umt:391:0">Web shell tutorials: do a google search on <samp data-coord="unix-cli.umt:391:43">bourne shell</samp>.
</p><p data-coord="unix-cli.umt:393:0">GNU bash Manual at
<em data-coord="unix-cli.umt:393:87"><a href="http://www.gnu.org/software/bash/manual/html_node/index.html#Top" data-coord="unix-cli.umt:393:87">&lt;http://www.gnu.org/software/bash/manual/html_node/index.html#Top&gt;</a></em>.
</p><p data-coord="unix-cli.umt:396:0">Mendel Cooper, <em data-coord="unix-cli.umt:396:15">Advanced Bash-Scripting Guide</em> at
<em data-coord="unix-cli.umt:396:83"><a href="http://tldp.org/LDP/abs/html/" data-coord="unix-cli.umt:396:83">&lt;http://tldp.org/LDP/abs/html/&gt;</a></em>.
</p><p data-coord="unix-cli.umt:399:0">Rob Pike and Brian Kernighan, <em data-coord="unix-cli.umt:399:30">Program design in the UNIX
environment</em>, AKA <em data-coord="unix-cli.umt:399:76">cat -v Considered Harmful</em>, AT&amp;T Bell Laboratories
Technical Journal, October 1984, Vol. 63, No. 8, Pt 2.  Available as
ps/pdf at <em data-coord="unix-cli.umt:399:242"><a href="http://harmful.cat-v.org/cat-v/" data-coord="unix-cli.umt:399:242">&lt;http://harmful.cat-v.org/cat-v/&gt;</a></em>.
</p></section></section>
    </div> <!-- #content -->
    <script src="../../assets/scripts/loginAction.js"></script>
  </body>
</html>
